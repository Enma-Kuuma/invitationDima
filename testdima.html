<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitation</title>

<!-- Police Halloween -->
<link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Creepster', cursive;
    background: url('https://picjumbo.com/wp-content/uploads/dark-halloween-background-with-glowing-halloween-pumpkins-free-image.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.65);
    z-index: 0;
  }

  #box {
    position: relative;
    z-index: 1;
    background: rgba(12, 12, 12, 0.9);
    padding: 40px;
    border-radius: 5px;
    width: 600px;
    text-align: center;
    box-shadow: 0 0 20px rgba(255, 140, 0, 0.473);
  }

  img {
    width: 80px;
    border-radius: 50%;
    margin-bottom: 15px;
  }

  #message {
    min-height: 120px;
    font-size: 1.2rem;
    line-height: 1.6em;
    white-space: pre-line;
  }

  .btns {
    margin-top: 25px;
    display: flex;
    justify-content: space-around;
  }

  button {
    background: #3e5c48;
    color: white;
    border: none;
    padding: 10px 22px;
    border-radius: 2px;
    cursor: pointer;
    font-family: 'Creepster', cursive;
    transition: 0.2s;
  }

  button:hover {
    background: #b15b0b;
    color: black;
  }
</style>
</head>
<body>

<div id="box">
  <img src="c:\Users\cleme\AppData\Local\Temp\meai.jpg" alt="Clément">
  <div id="message"></div>
  <div class="btns" id="choices" style="display:none;">
    <button id="yes">Yeah I'm in!</button>
    <button id="no">No, sorry.</button>
  </div>
</div>

<script>
const messageBox = document.getElementById('message');
const choices = document.getElementById('choices');
const yesBtn = document.getElementById('yes');
const noBtn = document.getElementById('no');

let noCount = 0;

// Texte initial
const initialMessage = {
  text: "I know we don't really know each other yet, but I think we'd get along just fine.\n\nSo here's my official invitation: would you like to join me on WoW or any game we both play?\n\nClick your answer below!",
  author: "me" // rouge
};

// Typing avec couleur selon l'auteur
function typeWriterColored(msgObj, callback) {
  messageBox.innerHTML = '';
  let i = 0;
  const speed = 30;
  const color = msgObj.author === "me" ? "red" : "green"; // toi=rouge, lui=vert
  function type() {
    if (i < msgObj.text.length) {
      messageBox.innerHTML += `<span style="color:${color}">${msgObj.text.charAt(i)}</span>`;
      i++;
      setTimeout(type, speed);
    } else if (callback) callback();
  }
  type();
}

function showButtons() {
  choices.style.display = 'flex';
}

function updateNoResponse() {
  noCount++;
  choices.style.display = 'none';
  let msg = "";
  switch (noCount) {
    case 1:
      msg = { text: "Haha, I get it — the 'No' button was too small, right?\nLet's try again!", author: "me" };
      break;
    case 2:
      msg = { text: "Okay maybe you *actually* misclicked again. Happens to the best of us!", author: "me" };
      break;
    case 3:
      msg = { text: "Ah my bad... that button *is* kinda tiny. Wait a sec, I'll fix it!", author: "me" };
      yesBtn.style.transform = "scale(3)";
      break;
    case 4:
      msg = { text: "Damn, you're not very precise huh? Let's avoid FPS games together :p", author: "me" };
      break;
    default:
      const alt = ["nope.", "Nahh.", "no!", "nice try tho."];
      msg = { text: alt[Math.floor(Math.random() * alt.length)], author: "me" };
      noBtn.style.position = 'relative';
      noBtn.onmouseenter = () => {
        noBtn.style.top = `${Math.random()*400-200}px`;
        noBtn.style.left = `${Math.random()*400-200}px`;
      };
  }
  typeWriterColored(msg, showButtons);
}

yesBtn.onclick = () => {
  choices.style.display = 'none';
  const msg = {
    text: "Super, I KNEW you'd pick me!\n\nHere's my Discord — add me: **thelastmoxxie**\n\nCan't wait to play WoW together (I'm also a huge V Rising fan!)",
    author: "me"
  };
  typeWriterColored(msg);
};

noBtn.onclick = updateNoResponse;

// Lancer le texte initial
typeWriterColored(initialMessage, showButtons);
</script>

</body>
</html>
